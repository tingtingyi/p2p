"use strict";$(function(){$("#registerform").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{username:{message:"The username is not valid",validators:{notEmpty:{message:"用户名不能为空"},stringLength:{min:6,max:12,message:"用户名长度在6~12位"}}},password:{message:"The username is not valid",validators:{notEmpty:{message:"密码不能为空"},stringLength:{min:6,max:18,message:"密码长度在6~18位"}}},checkpwd:{validators:{notEmpty:{message:"确认密码不能为空"},identical:{field:"password",message:"两次密码输入不一致"}}},mobile:{message:"The username is not valid",validators:{notEmpty:{message:"手机号不能为空"},regexp:{regexp:/^[1][3,4,5,7,8][0-9]{9}$/,message:"请输入正确的手机号"}}},email:{validators:{notEmpty:{message:"邮箱不能为空"},emailAddress:{message:"请输入正确的邮箱地址"}}}}}).on("success.form.bv",function(e){e.preventDefault();var s=$(e.target),a=(s.data("bootstrapValidator"),s.serialize());$.post("./api/useradd.php",a,function(e){console.log(e),e.isSuccess?(alert(e.msg),location.href="./login.php"):alert(e.msg)},"json")}),$("#loginform").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{username:{validators:{notEmpty:{message:"用户名不能为空"},stringLength:{min:6,max:12,message:"用户名长度在6~12位"}}},password:{validators:{notEmpty:{message:"密码不能为空"},stringLength:{min:6,max:18,message:"密码长度在6~18位"}}}}}).on("success.form.bv",function(e){e.preventDefault();var s=$(e.target),a=(s.data("bootstrapValidator"),s.serialize());$.post("./api/usercheck.php",a,function(e){if(e.isSuccess){$("#ShowModal").modal("show"),$("#ShowTitle").text("登录成功"),$("#ShowContent").html("<span class='glyphicon glyphicon-ok bg-success'></span>".concat(e.msg,',等待<span id="num"></span>秒后自动跳转到个人中心'));var s=3,a=setInterval(function(){s--,$("#num").text(s),0==s&&(clearInterval(a),location.href="./personal.php")},1e3)}else $("#ShowModal").modal("show"),$("#ShowTitle").text("登录失败"),$("#ShowContent").html("<span class='glyphicon glyphicon-remove bg-danger'></span>"+e.msg)},"json")})});